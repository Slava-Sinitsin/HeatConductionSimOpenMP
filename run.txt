#!/bin/bash

# Компиляция последовательной версии программы
gcc lab1seq.c -fopenmp -lm -o lab1seq.o

# Компиляция параллельной версии программы
gcc lab1par.c -fopenmp -lm -o lab1par.o

# Параметры для измерения времени
x=5 # Координата точки для поиска по оси X
y=5 # Координата точки для поиска по оси Y
z=5 # Координата точки для поиска по оси Z
k=100 # Размер по оси X
m=100 # Размер по оси Y
n=100 # Размер по оси Z
T1=100 # Температура верхней грани
T2=50 # Температура сторон верхней грани
T3=25 # Температура начального состояния
alphaInside=0.1 # Коэффициент теплопроводности внутри сферы
alphaOutside=0.2 # Коэффициент теплопроводности вне сферы
SphereRadius=10.0 # Радиус сферы
SphereCenterX=50 # Координата центра сферы по оси X
SphereCenterY=50 # Координата центра сферы по оси Y
SphereCenterZ=50 # Координата центра сферы по оси Z

# Измерение времени выполнения последовательной версии
echo "Измерение времени выполнения последовательной версии программы..."
./lab1seq.o $x $y $z $k $m $n $T1 $T2 $T3 $alphaInside $alphaOutside $SphereRadius $SphereCenterX $SphereCenterY $SphereCenterZ

# Измерение времени выполнения параллельной версии
echo "Измерение времени выполнения параллельной версии программы..."
./lab1par.o $x $y $z $k $m $n $T1 $T2 $T3 $alphaInside $alphaOutside $SphereRadius $SphereCenterX $SphereCenterY $SphereCenterZ

# Удаление временных исполняемых файлов
rm lab1seq.o
rm lab1par.o